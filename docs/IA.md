# 📐 IA (Information Architecture)

## 싸인해주세요 (SignPlease)

> **버전**: 2.2  
> **최종 수정일**: 2026년 2월 10일  
> **작성자**: PM

---

## 1. 서비스 구조 개요

```
┌─────────────────────────────────────────────────────────────────┐
│                      싸인해주세요 (SignPlease)                    │
├─────────────────────────────────────────────────────────────────┤
│  🏠 공통 영역        │  👔 사업자 영역      │  👷 근로자 영역      │
│  (Public)           │  (Employer)         │  (Worker)           │
├─────────────────────┼─────────────────────┼─────────────────────┤
│  인증/온보딩         │  계약서 관리         │  계약서 확인/서명    │
│  결제               │  AI 법률 검토        │  경력 관리          │
│  설정               │  채팅               │  채팅              │
│  고객지원            │  폴더/휴지통         │  폴더/휴지통        │
└─────────────────────┴─────────────────────┴─────────────────────┘
```

---

## 2. 전체 사이트맵 (Sitemap)

```
싸인해주세요 (SignPlease)
│
├── 🏠 공통 (Public)
│   │
│   ├── / ─────────────────────────────── 스플래시 화면
│   ├── /onboarding ───────────────────── 서비스 소개 (3단계 슬라이드)
│   │
│   ├── 📌 인증 (Authentication)
│   │   ├── /signup ───────────────────── 회원가입 (카카오 + Apple 로그인)
│   │   ├── /login ────────────────────── 로그인 (카카오 + Apple 로그인)
│   │   ├── /select-role ──────────────── 역할 선택 (사장님/알바생)
│   │   └── /guest ────────────────────── 둘러보기 (게스트 모드)
│   │
│   ├── 💰 결제 (Payment)
│   │   ├── /pricing ──────────────────── 계약서 크레딧 구매
│   │   └── /payment-history ──────────── 결제 내역 조회
│   │
│   ├── ⚙️ 설정 (Settings)
│   │   └── /profile ──────────────────── 프로필 설정
│   │
│   ├── 📜 법적 문서 (Legal)
│   │   ├── /terms ────────────────────── 이용약관
│   │   ├── /privacy ──────────────────── 개인정보처리방침
│   │   └── /refund ───────────────────── 환불정책
│   │
│   ├── 🔗 단축 URL
│   │   └── /s/[token] ────────────────── 단축 URL 리다이렉트
│   │
│   └── 📞 고객지원
│       ├── /support ──────────────────── 고객센터 (1:1 문의)
│       ├── /support/faq ──────────────── 자주 묻는 질문
│       └── /support/faq/[id] ─────────── FAQ 상세
│
├── 👔 사업자 (Employer)
│   │
│   ├── /employer ─────────────────────── 대시보드 (메인)
│   │   ├── 섹션: 대기중인 계약서
│   │   ├── 섹션: 완료된 계약서
│   │   └── 폴더 탭 바 (조건부 표시)
│   │
│   ├── /employer/folders ─────────────── 폴더 관리 페이지
│   │
│   ├── /employer/create ──────────────── 계약서 작성 (10단계)
│   │   ├── Step 1: 사업장 선택/등록
│   │   ├── Step 2: 계약 형태 (정규직/계약직)
│   │   ├── Step 3: 사업장 규모 (5인 미만/이상)
│   │   ├── Step 4: 근로자 이름/연락처
│   │   ├── Step 5: 급여 (시급/월급 + 주휴수당)
│   │   ├── Step 6: 근무 기간 (시작일 + 종료일)
│   │   ├── Step 7: 근무 요일
│   │   ├── Step 8: 근무 시간
│   │   ├── Step 9: 휴게 시간
│   │   └── Step 10: 업무 내용 + 급여일
│   │
│   ├── /employer/preview/:id ─────────── 계약서 미리보기
│   ├── /employer/contract/:id ────────── 계약서 상세
│   └── /employer/chat ────────────────── 채팅 (P2)
│
└── 👷 근로자 (Worker)
    │
    ├── /worker ───────────────────────── 대시보드 (메인)
    │   ├── 전체 탭
    │   └── 숨김 탭 (조건부 표시)
    │
    ├── /worker/onboarding ────────────── 근로자 정보 등록 (최초 1회)
    │   ├── Step 1: 휴대폰 본인인증
    │   ├── Step 2: 주민등록번호 입력
    │   └── Step 3: 급여 계좌 등록
    │
    ├── /worker/contract/:id ──────────── 계약서 상세/서명
    ├── /worker/career ────────────────── 경력 관리
    └── /worker/chat ──────────────────── 채팅 (P2)
```

---

## 3. 페이지별 상세 구조

### 3.1 공통 페이지 (Public)

#### 스플래시 (`/`)

```
┌─────────────────────────┐
│                         │
│         [로고]          │
│    "싸인해주세요"        │
│       (로딩 중...)       │
│                         │
└─────────────────────────┘
```

#### 온보딩 (`/onboarding`)

```
┌─────────────────────────┐
│              [건너뛰기]  │
│      ┌───────────┐      │
│      │  일러스트  │      │
│      └───────────┘      │
│   "10분 만에 계약서 완성" │
│        ● ○ ○            │
│  ┌─────────────────┐    │
│  │    시작하기     │    │
│  └─────────────────┘    │
│      [둘러보기 >]        │
└─────────────────────────┘
```

#### 둘러보기 역할 선택 (`/guest`)

```
┌─────────────────────────┐
│ [←]                     │
│  "어떤 역할로 체험할까요?"│
│  ┌─────────────────┐    │
│  │ 👔 사장님으로 체험 │    │
│  └─────────────────┘    │
│  ┌─────────────────┐    │
│  │ 👷 알바생으로 체험 │    │
│  └─────────────────┘    │
│  ⓘ 일부 기능은 회원가입  │
│    후 이용할 수 있어요   │
└─────────────────────────┘
```

#### 회원가입/로그인 (`/signup`, `/login`)

```
┌─────────────────────────┐
│         [로고]          │
│    "싸인해주세요"        │
│  ┌─────────────────┐    │
│  │ 🟡 카카오로 시작하기│    │
│  └─────────────────┘    │
│  ☑ 이용약관 동의 (필수)  │
│  ☑ 개인정보처리방침 (필수)│
│   [이용약관] [개인정보]   │
└─────────────────────────┘
```

#### 역할 선택 (`/select-role`)

```
┌─────────────────────────┐
│   "어떤 역할로 사용할까요?"│
│  ┌─────────────────┐    │
│  │ 👔 사장님이에요   │    │
│  └─────────────────┘    │
│  ┌─────────────────┐    │
│  │ 👷 알바생이에요   │    │
│  └─────────────────┘    │
└─────────────────────────┘
```

---

### 3.2 사업자 페이지 (Employer)

#### 대시보드 (`/employer`)

**헤더:**
```
┌─────────────────────────────────────────────────────────────┐
│            싸인해주세요           💎N개  [🔔]  [☰]           │
└─────────────────────────────────────────────────────────────┘
```

**본문:**
```
┌─────────────────────────┐
│ [폴더 탭 바] (조건부)    │
│ 전체 │ 폴더1 │ 🗑️ │ ⚙️  │
├─────────────────────────┤
│ 대기 중 계약서           │
│ ┌─────────────────────┐ │
│ │ 👤 김알바            │ │
│ │ 시급 12,000원        │ │
│ │ 🟡 서명 대기중        │ │
│ └─────────────────────┘ │
│ 완료된 계약서            │
│ ┌─────────────────────┐ │
│ │ 👤 이알바            │ │
│ │ ✅ 서명 완료          │ │
│ └─────────────────────┘ │
│                    [+]  │
└─────────────────────────┘
```

#### 계약서 작성 (`/employer/create`)

**Step 2: 계약 형태 선택**
```
┌─────────────────────────────────────┐
│ < 2/10                              │
│ 계약 형태를 선택해주세요             │
│ ┌─────────────────────────────────┐ │
│ │ 💼 정규직 (4대보험)             │ │
│ │ 국민연금, 건강보험, 고용보험,    │ │
│ │ 산재보험 분담                   │ │
│ └─────────────────────────────────┘ │
│ ┌─────────────────────────────────┐ │
│ │ 📄 계약직 (3.3%) [단기알바]     │ │
│ │ 사업소득 원천징수 후 지급        │ │
│ └─────────────────────────────────┘ │
│ 💡 15시간 미만: 계약직 추천         │
│    15시간 이상: 정규직 추천         │
└─────────────────────────────────────┘
```

**Step 4: 근로자 정보**
```
┌─────────────────────────────────────┐
│ < 4/10                              │
│ 근로자 정보를 입력해주세요           │
│ 이름                                │
│ [_______________]                   │
│ 휴대폰 번호 (알림톡 발송용)          │
│ [010-0000-0000]                     │
│ ┌─────────────────────────────────┐ │
│ │ 📱 이 번호로 카카오 알림톡이      │ │
│ │   전송돼요                       │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

**Step 10: 업종 선택 (8개)**
- 🍽️ 식당
- ☕ 카페
- 🏪 편의점
- 🛍️ 소매점
- 💇 미용실/네일샵
- 💼 사무직
- 🖥️ PC방
- 🚀 스타트업

#### 계약서 미리보기 (`/employer/preview/:id`)

```
┌─────────────────────────┐
│ [←] 계약서 미리보기      │
├─────────────────────────┤
│ ┌─────────────────────┐ │
│ │   표준근로계약서     │ │
│ │ 사업장: ○○카페      │ │
│ │ 근로자: 김알바       │ │
│ │ 계약형태: 정규직     │ │
│ │ 시급: 12,000원      │ │
│ └─────────────────────┘ │
│ ┌───────────────────┐   │
│ │ 🤖 AI 노무사 검토  │   │
│ └───────────────────┘   │
├─────────────────────────┤
│ ┌─────────────────────┐ │
│ │   서명 후 전송하기   │ │
│ └─────────────────────┘ │
└─────────────────────────┘
```

---

### 3.3 근로자 페이지 (Worker)

#### 대시보드 (`/worker`)

```
┌─────────────────────────────────────────────────────────────┐
│            싸인해주세요                    [🔔]  [☰]         │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────┐
│ [탭 바] (조건부)         │
│ 전체 (N) │ 👁️ 숨김 (N)  │
├─────────────────────────┤
│ 계약서 목록              │
└─────────────────────────┘
```

#### 계약서 상세/서명 (`/worker/contract/:id`)

```
┌─────────────────────────┐
│ [←] 계약서 상세          │
├─────────────────────────┤
│ 👔 김사장님              │
│ 서울시 강남구...         │
│ ⏰ 서명 마감: D-6        │
├─────────────────────────┤
│ ┌─────────┬───────────┐ │
│ │ 사업자  │  근로자    │ │
│ │✅ 완료  │  ⏳ 대기   │ │
│ └─────────┴───────────┘ │
├─────────────────────────┤
│ 계약 내용               │
│ 사업장      ○○카페     │
│ 계약형태    정규직      │
│ 급여        시급 10,360원│
│ ...                     │
├─────────────────────────┤
│ [📄 PDF] [🚪 퇴사 처리]  │
│ (양측 서명 완료 시 표시) │
│ ┌─────────────────────┐ │
│ │  ✍️ 서명하고 계약하기  │ │
│ └─────────────────────┘ │
└─────────────────────────┘
```

#### 경력 관리 (`/worker/career`)

```
┌─────────────────────────┐
│ [←] 경력 관리           │
├─────────────────────────┤
│ 💡 퇴사일 미입력 안내    │
│ N개 계약서에 퇴사일 필요 │
├─────────────────────────┤
│ ┌─────────────────────┐ │
│ │ 🏪 ○○카페           │ │
│ │ 2025.06 ~ 현재      │ │
│ │ [근무 중]            │ │
│ └─────────────────────┘ │
│ ┌─────────────────────┐ │
│ │ 🍽 △△식당           │ │
│ │ 2024.03 ~ 2025.05   │ │
│ │ [퇴사 완료]          │ │
│ └─────────────────────┘ │
├─────────────────────────┤
│ ┌─────────────────────┐ │
│ │ 📄 근무이력서 다운로드 │ │
│ └─────────────────────┘ │
└─────────────────────────┘
```

**상태 배지:**
| 상태 | 배경색 | 텍스트색 |
|------|--------|----------|
| 근무 중 | bg-green-100 | text-green-700 |
| 퇴사 완료 | bg-blue-100 | text-blue-700 |
| 계약 종료 | bg-gray-100 | text-gray-600 |
| 퇴사일 미입력 | bg-amber-100 | text-amber-700 |

---

## 4. 화면 전환 흐름도

### 4.1 신규 사용자 진입 플로우

```
Splash → Onboarding → Signup → Select Role → Dashboard
                 ↓                    ↓
            /guest ────────→ 샘플 데이터 체험
                                 ↓
                         회원가입 유도 팝업
```

### 4.2 사업자 계약서 작성 플로우

```
Dashboard → /employer/create (10단계) → Preview & 서명 → 저장
                                              ↓
                                        카카오 알림톡 발송
```

### 4.3 근로자 계약서 서명 플로우

```
카카오톡 링크 클릭 → 본인 확인 (번호 입력) → 계약 조건 확인 → 서명
                                                    ↓
                                              회원가입 유도
```

---

## 5. 네비게이션 구조

### 5.1 사업자 헤더

```
┌─────────────────────────────────────────────────────────────┐
│            싸인해주세요           💎N개  [🔔]  [☰]           │
└─────────────────────────────────────────────────────────────┘
```

### 5.2 근로자 헤더

```
┌─────────────────────────────────────────────────────────────┐
│            싸인해주세요                    [🔔]  [☰]         │
└─────────────────────────────────────────────────────────────┘
```

### 5.3 메뉴 시트 (MenuSheet)

```
┌─────────────────────────────────────┐
│                          [X 닫기]   │
├─────────────────────────────────────┤
│  [아바타]  김사장님                  │
│           example@kakao.com        │
├─────────────────────────────────────┤
│  👤 프로필 설정                  →  │
│  💳 크레딧 충전 (사업자)         →  │
│  📋 결제 내역 (사업자)           →  │
├─────────────────────────────────────┤
│  📄 이용약관                     →  │
│  🔒 개인정보처리방침              →  │
│  💰 환불정책                     →  │
├─────────────────────────────────────┤
│  🚪 로그아웃                        │
└─────────────────────────────────────┘
```

---

## 6. 프로필/설정 구조 (`/profile`)

```
프로필 설정
├── 내 정보
│   ├── 이름 (수정 가능)
│   ├── 연락처 (수정 가능)
│   └── 이메일 (카카오 연동, 읽기 전용)
├── 역할 변경 (사장님 ↔ 알바생)
├── [근로자 전용] 등록 정보 수정
│   ├── 휴대폰 번호 변경
│   ├── 계좌 정보 변경
│   └── 주민등록번호 확인 (마스킹)
├── 앱 설정 → 알림 설정
└── 로그아웃
```

---

## 7. 접근 권한 매트릭스

| 페이지 | 비로그인 | 게스트 | 사업자 | 근로자 | 비고 |
|--------|----------|--------|--------|--------|------|
| `/`, `/onboarding` | ✅ | ✅ | ✅ | ✅ | |
| `/signup`, `/login` | ✅ | ✅ | ❌ | ❌ | 로그인 시 리다이렉트 |
| `/guest` | ✅ | ✅ | ❌ | ❌ | 둘러보기 진입점 |
| `/select-role` | ❌ | ❌ | ✅ | ✅ | 최초 1회 |
| `/employer/*` | ❌ | ⚠️ | ✅ | ❌ | 게스트는 제한적 체험 |
| `/worker/*` | ❌ | ⚠️ | ❌ | ✅ | 게스트는 제한적 체험 |
| `/worker/contract/:id` | ❌ | ❌ | ❌ | ✅ | 링크 접근 시 로그인 유도 |
| `/pricing`, `/payment-history` | ❌ | ❌ | ✅ | ✅ | 게스트 접근 불가 |
| `/profile` | ❌ | ❌ | ✅ | ✅ | 메뉴시트에서 접근 |
| `/terms`, `/privacy`, `/refund` | ✅ | ✅ | ✅ | ✅ | |
| `/s/[token]` | ✅ | ✅ | ✅ | ✅ | 단축 URL |
| `/contract/sign/[token]` | ✅ | ✅ | ✅ | ✅ | 번호 인증 필요 |

**⚠️ 게스트 모드 제한**: 대시보드 조회 가능(샘플 데이터), 서명/전송/PDF 다운로드 시 회원가입 유도

---

## 8. URL 파라미터 정의

| URL Pattern | 파라미터 | 설명 |
|-------------|----------|------|
| `/employer/preview/:id` | `id` | 계약서 고유 식별자 |
| `/employer/contract/:id` | `id` | 계약서 고유 식별자 |
| `/worker/contract/:id` | `id` | 계약서 고유 식별자 |
| `/s/[token]` | `token` | 단축 URL 토큰 |
| `/contract/sign/[token]` | `token` | 서명 링크 토큰 |

---

## 9. 모달/팝업 구조

| 이름 | 트리거 | 내용 |
|------|--------|------|
| 서명 모달 | 서명란 터치 | 캔버스 기반 서명 입력 |
| 용어 설명 팝업 | 법률 용어 터치 | AI 생성 쉬운 설명 |
| AI 검토 결과 | 검토 완료 시 | 항목별 적합/주의/수정 필요 |
| 삭제 확인 | 삭제 버튼 클릭 | "정말 삭제하시겠습니까?" |
| 크레딧 부족 | 크레딧 0일 때 액션 | "크레딧이 부족합니다" + 충전 버튼 |
| 공유 바텀시트 | 서명 후 전송 | 알림톡 발송 결과 + 링크 복사 |
| 결제 완료 토스트 | 결제 성공 후 리다이렉트 | "결제가 완료됐어요! 🎉" |
| 결제 실패 토스트 | 결제 실패 후 리다이렉트 | 에러 유형별 맞춤 메시지 |
| Rate Limit 토스트 | API 요청 제한 초과 | "요청이 너무 많아요. 잠시 후 다시 시도해주세요" |
| 폴더 생성 | 폴더 + 버튼 | 폴더 이름 입력 |
| 폴더 선택 | 계약서 이동 시 | 폴더 목록 선택 |
| 사업장 수정 | 수정 버튼 클릭 | 사업장명/주소 수정 폼 |
| 사업장 삭제 확인 | 삭제 버튼 클릭 | 삭제 경고 + 확인/취소 |
| 회원가입 유도 | 게스트 제한 기능 시도 | "회원 전용 기능이에요" + 가입 버튼 |
| 퇴사 처리 | 퇴사 버튼 클릭 | 퇴사일 선택 + 저장 |
| 근무이력서 미리보기 | 다운로드 버튼 | PDF 미리보기 + 다운로드 |

---

## 10. API 라우트

| 경로 | 메서드 | 설명 | Rate Limit |
|------|--------|------|------------|
| `/api/contract/sensitive-info` | POST | 민감정보 복호화 (사업자 전용) | - |
| `/api/payment/prepare` | POST | 결제 준비 | 5회/분 |
| `/api/payment/confirm` | GET | 결제 승인 (리다이렉트) | - |
| `/api/refund/request` | POST | 환불 요청 | 3회/분 |
| `/api/pdf/generate` | POST | 계약서 PDF 생성 | - |
| `/api/pdf/career-certificate` | POST | 근무이력서 PDF 생성 | - |
| `/api/ai-review` | POST | AI 노무사 검토 (무료) | - |

---

## 11. 게스트 모드

### 쿠키 구조

```json
{
  "state": {
    "isGuest": true,
    "guestRole": "employer" | "worker",
    "aiReviewUsed": false
  },
  "version": 0
}
```

- 쿠키 이름: `guest-storage`
- 유효기간: 7일

---

## 12. 알림톡 공유 바텀시트

### 발송 성공 시

```
┌─────────────────────────────────────┐
│ 근로자에게 공유하기               ✕  │
├─────────────────────────────────────┤
│   ✅ 카카오 알림톡이 발송됐어요!     │
│   010-****-5678 으로 전송됨 (1/3)   │
│ ─────────────────────────────────── │
│ 💡 알림톡이 도착하지 않으면 아래      │
│   링크를 직접 보내주세요             │
│ ┌─────────────────────────────────┐ │
│ │ https://.../s/abc123    [복사] │ │
│ └─────────────────────────────────┘ │
│ [알림톡 재전송 (1/3)]  [닫기]        │
└─────────────────────────────────────┘
```

### 휴대폰 번호 없을 때

```
┌─────────────────────────────────────┐
│ 근로자에게 공유하기               ✕  │
├─────────────────────────────────────┤
│   📱 휴대폰 번호가 입력되지 않아     │
│      알림톡을 보내지 못했어요        │
│ ─────────────────────────────────── │
│ 아래 링크를 직접 보내주세요          │
│ ┌─────────────────────────────────┐ │
│ │ https://.../s/abc123    [복사] │ │
│ └─────────────────────────────────┘ │
│ [닫기]                              │
└─────────────────────────────────────┘
```
